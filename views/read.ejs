<main class="container">
	<% if (documents && documents.length > 0) { %>
		<table class="table table-bordered">
			<thead>
				<tr>
					<% Object.keys(documents[0]).forEach(field => { %>
						<% if (field !== '_id' && field !== '__v') { %>
							<th><%= field %></th>
						<% } %>
					<% }) %>
				</tr>
			</thead>
			<tbody>
				<% documents.forEach(doc => { %>
					<tr>
						<% Object.entries(doc).forEach(([key, value]) => { %>
							<% if (key !== '_id' && key !== '__v') { %>
								<td>
									<% if (['startDate', 'endDate', 'createdAt'].includes(key) && value) { %>
										<%= new Date(value).toLocaleDateString('ja-JP', {
											year: 'numeric',
											month: '2-digit',
											day: '2-digit'
										}) %>
										<%= new Date(value).toLocaleTimeString('ja-JP', {
											hour: '2-digit',
											minute: '2-digit',
											second: '2-digit',
											hour12: false
										}) %>
									<% } else { %>
										<%= value %>
									<% } %>
								</td>
							<% } %>
						<% }) %>
					</tr>
				<% }) %>
			</tbody>
		</table>
	<% } else { %>
		<p>ドキュメントがありません。</p>
	<% } %>
</main>
