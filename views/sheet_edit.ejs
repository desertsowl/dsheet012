<div class="container">
    <h1 class="mb-4"><%= title %></h1>

    <form action="/manager/sheet/<%= id_sheet %>/save" method="post" enctype="multipart/form-data">
        <% if (document) { %>
            <input type="hidden" name="id" value="<%= document._id %>"> <!-- ObjectIdをフォームで送信 -->
        <% } %>

        <!-- 項番 -->
        <div class="mb-3">
            <label for="項番" class="form-label">項番</label>
            <input type="number" name="item_number" id="項番" value="<%= document ? document.項番 : nextItemNumber %>" class="form-control" readonly>
        </div>

        <!-- 項目 -->
        <div class="mb-3">
            <label for="項目" class="form-label">項目</label>
            <input type="text" name="item_name" id="項目" value="<%= document ? document.項目 : '' %>" class="form-control" required>
        </div>

        <!-- 内容 -->
        <div class="mb-3">
            <label for="内容" class="form-label">内容</label>
            <textarea name="item_content" id="内容" rows="3" class="form-control" required><%= document ? document.内容 : '' %></textarea>
        </div>

        <!-- 詳細 -->
        <div class="mb-3">
            <label for="詳細" class="form-label">詳細</label>
            <textarea name="item_details" id="詳細" rows="3" class="form-control" required><%= document ? document.詳細 : '' %></textarea>
        </div>

        <!-- 画像 -->
        <div class="mb-3">
            <label for="画像" class="form-label">画像</label>
            <input type="file" name="item_image" id="画像" class="form-control">
            <% if (document && document.画像) { %>
                <p>現在の画像: <a href="/<%= document.画像 %>" target="_blank">表示</a></p>
            <% } %>
        </div>

        <!-- ボタン -->
        <div class="d-flex gap-2">
            <a href="/manager/sheet/<%= id_sheet %>/read" class="btn btn-secondary">戻る</a>
            <button type="submit" class="btn btn-primary">保存</button>
        </div>
    </form>
</div>

